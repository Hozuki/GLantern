{"version":3,"sources":["glantern/index.ts"],"names":["injectToGlobal","isSupported"],"mappings":"AAAA;;GAEG;AAEH,IAAY,KAAK,WAAM,eAAe,CAAC,CAAA;AAO9B,aAAK;AANd,IAAY,KAAK,WAAM,eAAe,CAAC,CAAA;AAMvB,aAAK;AALrB,IAAY,EAAE,WAAM,YAAY,CAAC,CAAA;AAKV,UAAE;AAJzB,IAAY,EAAE,WAAM,YAAY,CAAC,CAAA;AAIN,UAAE;AAH7B,yBAAuB,YAAY,CAAC,CAAA;AAGL,gBAAQ;AAFvC,uBAAqB,qCAAqC,CAAC,CAAA;AAI3D,wBAA+B,KAAS;IACpCA,KAAKA,CAACA,OAAOA,CAACA,GAAGA,KAAKA,CAACA;IACvBA,KAAKA,CAACA,OAAOA,CAACA,GAAGA,KAAKA,CAACA;IACvBA,KAAKA,CAACA,IAAIA,CAACA,GAAGA,EAAEA,CAACA;IACjBA,KAAKA,CAACA,IAAIA,CAACA,GAAGA,EAAEA,CAACA;AACrBA,CAACA;AALe,sBAAc,iBAK7B,CAAA;AAED;IACIC,IAAIA,YAAYA,GAAQA,MAAMA,CAACA;IAE/BA,EAAEA,CAACA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA;QAChBA,MAAMA,CAACA,KAAKA,CAACA;IACjBA,CAACA;IACDA,qDAAqDA;IACrDA,EAAEA,CAACA,CAACA,CAACA,eAAMA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,mBAAmBA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC/DA,MAAMA,CAACA,KAAKA,CAACA;IACjBA,CAACA;IACDA,6EAA6EA;IAC7EA,EAAEA,CAACA,CAACA,CAACA,eAAMA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,uBAAuBA,CAACA,CAACA,CAACA,CAACA,CAACA;QACnEA,MAAMA,CAACA,KAAKA,CAACA;IACjBA,CAACA;IACDA,yDAAyDA;IACzDA,mFAAmFA;IACnFA,EAAEA,CAACA,CAACA,CAACA,eAAMA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;QACjDA,MAAMA,CAACA,KAAKA,CAACA;IACjBA,CAACA;IACDA,EAAEA,CAACA,CAACA,CAACA,eAAMA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;QACjDA,MAAMA,CAACA,KAAKA,CAACA;IACjBA,CAACA;IACDA,gGAAgGA;IAChGA,EAAEA,CAACA,CAACA,OAAOA,YAAYA,CAACA,QAAQA,CAACA,KAAKA,QAAQA,CAACA,CAACA,CAACA;QAC7CA,IAAIA,mBAAmBA,GAAGA,yBAAyBA,CAACA;QACpDA,IAAIA,iBAAiBA,GAAGA,mBAAmBA,CAACA,IAAIA,CAACA,MAAMA,CAACA,SAASA,CAACA,UAAUA,CAACA,CAACA;QAC9EA,EAAEA,CAACA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,IAAIA,QAAQA,CAACA,iBAAiBA,CAACA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;YACtEA,MAAMA,CAACA,KAAKA,CAACA;QACjBA,CAACA;IACLA,CAACA;IACDA,MAAMA,CAACA,IAAIA,CAACA;AAChBA,CAACA;AA/Be,mBAAW,cA+B1B,CAAA","file":"glantern/index.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/20.\r\n */\r\n\r\nimport * as flash from \"./flash/index\";\r\nimport * as webgl from \"./webgl/index\";\r\nimport * as fl from \"./fl/index\";\r\nimport * as mx from \"./mx/index\";\r\nimport {GLantern} from \"./GLantern\";\r\nimport {GLUtil} from \"../../lib/glantern-utils/src/GLUtil\";\r\n\r\nexport { flash, webgl, fl, mx, GLantern};\r\n\r\nexport function injectToGlobal($this:any):void {\r\n    $this[\"flash\"] = flash;\r\n    $this[\"webgl\"] = webgl;\r\n    $this[\"fl\"] = fl;\r\n    $this[\"mx\"] = mx;\r\n}\r\n\r\nexport function isSupported():boolean {\r\n    var globalObject = <any>window;\r\n\r\n    if (!globalObject) {\r\n        return false;\r\n    }\r\n    // GLantern is based on <canvas>, so it should exist.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"HTMLCanvasElement\"])) {\r\n        return false;\r\n    }\r\n    // GLantern uses WebGL, so there should be a corresponding rendering context.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"WebGLRenderingContext\"])) {\r\n        return false;\r\n    }\r\n    // GLantern uses Map and Set class, so they should exist.\r\n    // Note: Map and Set are ES6 features, but they are implemented on modern browsers.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"Map\"])) {\r\n        return false;\r\n    }\r\n    if (!GLUtil.isClassDefinition(globalObject[\"Set\"])) {\r\n        return false;\r\n    }\r\n    // No plans for support of Chrome whose version is under 40, due to a WebGL memory leak problem.\r\n    if (typeof globalObject[\"chrome\"] === \"object\") {\r\n        var chromeVersionRegExp = /Chrome\\/(\\d+)(?:\\.\\d+)*/;\r\n        var chromeVersionInfo = chromeVersionRegExp.exec(window.navigator.appVersion);\r\n        if (chromeVersionInfo.length < 2 || parseInt(chromeVersionInfo[1]) < 40) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n"],"sourceRoot":"/source/"}