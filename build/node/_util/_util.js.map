{"version":3,"sources":["_util/_util.ts"],"names":["_util","_util.constructor","_util.isUndefinedOrNull","_util.isUndefined","_util.isFunction","_util.isClassDefinition","_util.limitInto","_util.isValueBetweenNotEquals","_util.formatString","_util.formatString.___stringFormatter","_util.deepClone","_util.isPowerOfTwo","_util.power2Roundup","_util.trace","_util.requestAnimationFrame","_util.cancelAnimationFrame","_util.colorToCssSharp","_util.colorToCssRgba","_util.padLeft"],"mappings":"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,YAAYA,MAAMA,IAAIA,OAAOA,YAAYA,KAAKA,QAAQA,CAACA,CAACA,CAACA;YACrEA,IAAIA,SAASA,GAAGA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA;YACpCA,EAAEA,CAACA,CAACA,OAAOA,YAAYA,CAACA,cAAcA,KAAKA,UAAUA,CAACA,CAACA,CAACA;gBACpDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,YAAYA,CAACA,CAACA,CAACA;oBAC3BA,EAAEA,CAACA,CAACA,YAAYA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACnCA,SAASA,CAACA,GAAGA,CAACA,GAAGA,KAAKA,CAACA,SAASA,CAACA,YAAYA,CAACA,GAAGA,CAACA,CAACA,CAACA;oBACxDA,CAACA;gBACLA,CAACA;YACLA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,YAAYA,CAACA,CAACA,CAACA;oBAC3BA,SAASA,CAACA,GAAGA,CAACA,GAAGA,KAAKA,CAACA,SAASA,CAACA,YAAYA,CAACA,GAAGA,CAACA,CAACA,CAACA;gBACxDA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,SAASA,CAACA;QACrBA,CAACA;QACDA,MAAMA,CAACA,SAASA,CAACA;IACrBA,CAACA;IAEDV;;;;OAIGA;IACIA,kBAAYA,GAAnBA,UAAoBA,cAAqBA;QACrCW,IAAIA,GAAGA,GAAGA,cAAcA,GAAGA,CAACA,CAACA;QAC7BA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,cAAcA,IAAIA,KAAKA,CAACA,GAAGA,CAACA,IAAIA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;YACxDA,MAAMA,CAACA,KAAKA,CAACA;QACjBA,CAACA;QAACA,IAAIA,CAACA,CAACA;YACJA,MAAMA,CAACA,GAAGA,GAAGA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,CAACA,CAACA,KAAKA,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","file":"_util/_util.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/17.\r\n */\r\n\r\nvar $global = global || <any>window;\r\n\r\n/**\r\n * The class providing utility functions.\r\n */\r\nexport abstract class _util {\r\n\r\n    /**\r\n     * Check whether a value is {@link undefined} or {@link null}.\r\n     * @param value {*} The value to check.\r\n     * @returns {Boolean} True if the value is {@link undefined} or {@link null}, and false otherwise.\r\n     */\r\n    static isUndefinedOrNull(value:any):boolean {\r\n        return value === undefined || value === null;\r\n    }\r\n\r\n    /**\r\n     * Check whether a value is {@link undefined}.\r\n     * @param value {*} The value to check.\r\n     * @returns {Boolean} True if the value is {@link undefined}, and false otherwise.\r\n     */\r\n    static isUndefined(value:any):boolean {\r\n        return value === undefined;\r\n    }\r\n\r\n    /**\r\n     * Check whether a value is a function.\r\n     * @param value {*} The value to check.\r\n     * @returns {Boolean} True if the value is a function, and false otherwise.\r\n     */\r\n    static isFunction(value:any):boolean {\r\n        return typeof value === \"function\";\r\n    }\r\n\r\n    /**\r\n     * Check whether a value is a class prototype.\r\n     * @param value {*} The value to check.\r\n     * @returns {Boolean} True if the value is a class definition, and false otherwise.\r\n     * @remarks IE11 has a non-standard behavior to declare experimental features (e.g. Map) as functions,\r\n     *          and tested features (e.g. WebGLRenderingContext) as objects.\r\n     */\r\n    static isClassDefinition(value:any):boolean {\r\n        var t = typeof value;\r\n        var typeCheck:boolean;\r\n        if (typeof value === \"function\") {\r\n            typeCheck = true;\r\n        } else {\r\n            var isIE11 = navigator.appVersion.indexOf(\"Trident/7.0\") >= 0 && navigator.appVersion.indexOf(\"rv:11.0\") >= 0;\r\n            typeCheck = isIE11 && typeof value === \"object\";\r\n        }\r\n        var constructorCheck = (value && value.prototype ? value.prototype.constructor === value : false);\r\n        return typeCheck && constructorCheck;\r\n    }\r\n\r\n    /**\r\n     * Limit a number inside a range specified by min and max (both are reachable).\r\n     * @param v {Number} The number to limit.\r\n     * @param min {Number} The lower bound. Numbers strictly less than this bound will be set to the value.\r\n     * @param max {Number} The upper bound. Numbers strictly greater than this bound will be set to this value.\r\n     * @returns {Number} The limited value. If the original number is inside the specified range, it will not be\r\n     * altered. Otherwise, it will be either min or max.\r\n     */\r\n    static limitInto(v:number, min:number, max:number):number {\r\n        v < min && (v = min);\r\n        v > max && (v = max);\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * Check whether a number is inside a range specified min a max (both are unreachable).\r\n     * @param v {Number} The number to check.\r\n     * @param min {Number} The lower bound.\r\n     * @param max {Number} The upper bound.\r\n     * @returns {Boolean} True if the number to check is strictly greater than min and strictly less than max, and\r\n     * false otherwise.\r\n     */\r\n    static isValueBetweenNotEquals(v:number, min:number, max:number):boolean {\r\n        return min < v && v < max;\r\n    }\r\n\r\n    /**\r\n     * Generate a string based on the template, and provided values. This function acts similarly to the String.Format()\r\n     * function in CLR.\r\n     * @param format {String} The template string.\r\n     * @param replaceWithArray {*[]} The value array to provide values for formatting.\r\n     * @example\r\n     * var person = { name: \"John Doe\", age: 20 };\r\n     * console.log(_util.formatString(\"{0}'s age is {1}.\", person.name, person.age);\r\n     * @returns {String} The generated string, with valid placeholders replaced by values matched.\r\n     */\r\n    static formatString(format:string, ...replaceWithArray:any[]):string {\r\n        var replaceWithArrayIsNull = _util.isUndefinedOrNull(replaceWithArray);\r\n        var replaceWithArrayLength = replaceWithArrayIsNull ? -1 : replaceWithArray.length;\r\n\r\n        function __stringFormatter(matched:string):string {\r\n            var indexString = matched.substring(1, matched.length - 1);\r\n            var indexValue = parseInt(indexString);\r\n            if (!replaceWithArrayIsNull && (0 <= indexValue && indexValue < replaceWithArrayLength)) {\r\n                if (replaceWithArray[indexValue] === undefined) {\r\n                    return \"undefined\";\r\n                } else if (replaceWithArray[indexValue] === null) {\r\n                    return \"null\";\r\n                } else {\r\n                    return replaceWithArray[indexValue].toString();\r\n                }\r\n            } else {\r\n                return matched;\r\n            }\r\n        }\r\n\r\n        var regex = /{[\\d]+}/g;\r\n        return format.replace(regex, __stringFormatter);\r\n    }\r\n\r\n    /**\r\n     * Deeply clones an object. The cloned object has the exactly same values but no connection with the original one.\r\n     * @param sourceObject {*} The object to be cloned.\r\n     * @returns {*} The copy of original object.\r\n     */\r\n    static deepClone(sourceObject:any):any {\r\n        if (sourceObject === undefined || sourceObject === null || sourceObject === true || sourceObject === false) {\r\n            return sourceObject;\r\n        }\r\n        if (typeof sourceObject === \"string\" || typeof sourceObject === \"number\") {\r\n            return sourceObject;\r\n        }\r\n        /* Arrays */\r\n        if (Array.isArray(sourceObject)) {\r\n            var tmpArray:any[] = [];\r\n            for (var i = 0; i < sourceObject.length; ++i) {\r\n                tmpArray.push(_util.deepClone(sourceObject[i]));\r\n            }\r\n            return tmpArray;\r\n        }\r\n        /* ES6 classes. Chrome has implemented a part of them so they must be considered. */\r\n        if ($global.Map !== undefined && sourceObject instanceof Map) {\r\n            var newMap = new Map<any, any>();\r\n            sourceObject.forEach((v:any, k:any) => {\r\n                newMap.set(k, v);\r\n            });\r\n            return newMap;\r\n        }\r\n        if ($global.Set !== undefined && sourceObject instanceof Set) {\r\n            var newSet = new Set<any>();\r\n            sourceObject.forEach((v:any) => {\r\n                newSet.add(v);\r\n            });\r\n            return newSet;\r\n        }\r\n        /* Classic ES5 functions. */\r\n        if (sourceObject instanceof Function || typeof sourceObject === \"function\") {\r\n            var sourceFunctionObject = <Function>sourceObject;\r\n            var fn = (function ():Function {\r\n                return function () {\r\n                    return sourceFunctionObject.apply(this, arguments);\r\n                }\r\n            })();\r\n            fn.prototype = sourceFunctionObject.prototype;\r\n            for (var key in sourceFunctionObject) {\r\n                if (sourceFunctionObject.hasOwnProperty(key)) {\r\n                    (<any>fn)[key] = (<any>sourceFunctionObject)[key];\r\n                }\r\n            }\r\n            return fn;\r\n        }\r\n        /* Classic ES5 objects. */\r\n        if (sourceObject instanceof Object || typeof sourceObject === \"object\") {\r\n            var newObject = Object.create(null);\r\n            if (typeof sourceObject.hasOwnProperty === \"function\") {\r\n                for (var key in sourceObject) {\r\n                    if (sourceObject.hasOwnProperty(key)) {\r\n                        newObject[key] = _util.deepClone(sourceObject[key]);\r\n                    }\r\n                }\r\n            } else {\r\n                for (var key in sourceObject) {\r\n                    newObject[key] = _util.deepClone(sourceObject[key]);\r\n                }\r\n            }\r\n            return newObject;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * Test whether a positive number is a power of 2.\r\n     * @param positiveNumber {Number} The positive number to test.\r\n     * @returns {Boolean} True if the number is a power of 2, and false otherwise.\r\n     */\r\n    static isPowerOfTwo(positiveNumber:number):boolean {\r\n        var num = positiveNumber | 0;\r\n        if (num != positiveNumber || isNaN(num) || !isFinite(num)) {\r\n            return false;\r\n        } else {\r\n            return num > 0 && (num & (num - 1)) === 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the smallest power of 2 which is greater than or equals the given positive number.\r\n     * @param positiveNumber {Number} The positive number as the basis.\r\n     * @returns {Number} The smallest power of 2 which is greater than or equals the given positive number\r\n     */\r\n    static power2Roundup(positiveNumber:number):number {\r\n        if (positiveNumber < 0)\r\n            return 0;\r\n        --positiveNumber;\r\n        positiveNumber |= positiveNumber >>> 1;\r\n        positiveNumber |= positiveNumber >>> 2;\r\n        positiveNumber |= positiveNumber >>> 4;\r\n        positiveNumber |= positiveNumber >>> 8;\r\n        positiveNumber |= positiveNumber >>> 16;\r\n        return positiveNumber + 1;\r\n    }\r\n\r\n    /**\r\n     * Prints out a message with a stack trace.\r\n     * @param message {String} The message to print.\r\n     * @param [extra] {*} Extra information.\r\n     */\r\n    static trace(message:string, extra?:any):void {\r\n        if (extra !== undefined) {\r\n            console.info(message, extra);\r\n        } else {\r\n            console.info(message);\r\n        }\r\n        console.trace();\r\n    }\r\n\r\n    static requestAnimationFrame(f:FrameRequestCallback):number {\r\n        return window.requestAnimationFrame(f);\r\n    }\r\n\r\n    static cancelAnimationFrame(handle:number):void {\r\n        window.cancelAnimationFrame(handle);\r\n    }\r\n\r\n    static colorToCssSharp(color:number):string {\r\n        color |= 0;\r\n        return \"#\" + _util.padLeft(color.toString(16), 6, \"0\");\r\n    }\r\n\r\n    static colorToCssRgba(color:number):string {\r\n        color |= 0;\r\n        var a = (color >> 24) & 0xff;\r\n        var r = (color >> 16) & 0xff;\r\n        var g = (color >> 8) & 0xff;\r\n        var b = color & 0xff;\r\n        return \"rgba(\" + [r, g, b, a].join(\",\") + \")\";\r\n    }\r\n\r\n    static padLeft(str:string, targetLength:number, padWith:string):string {\r\n        while (str.length < targetLength) {\r\n            str = padWith + str;\r\n        }\r\n        if (str.length > targetLength) {\r\n            str = str.substring(str.length - targetLength, str.length - 1);\r\n        }\r\n        return str;\r\n    }\r\n\r\n}"],"sourceRoot":"/source/"}