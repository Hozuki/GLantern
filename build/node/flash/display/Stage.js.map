{"version":3,"sources":["flash/display/Stage.ts"],"names":["Stage","Stage.constructor","Stage.allowFullScreen","Stage.allowFullScreenInteractive","Stage.colorCorrectionSupport","Stage.fullScreenHeight","Stage.fullScreenWidth","Stage.softKeyboardRect","Stage.stageHeight","Stage.stageWidth","Stage.x","Stage.y","Stage.invalidate","Stage.isFocusInaccessible","Stage.worldRenderer","Stage.resize","Stage.render","Stage.___render","Stage.___update"],"mappings":"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","file":"flash/display/Stage.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/18.\r\n */\r\n\r\nimport {WebGLRenderer} from \"../../webgl/WebGLRenderer\";\r\nimport {ColorCorrectionSupport} from \"./ColorCorrectionSupport\";\r\nimport {NotImplementedError} from \"../../_util/NotImplementedError\";\r\nimport {Rectangle} from \"../geom/Rectangle\";\r\nimport {StageScaleMode} from \"./StageScaleMode\";\r\nimport {StageQuality} from \"./StageQuality\";\r\nimport {InteractiveObject} from \"./InteractiveObject\";\r\nimport {StageDisplayState} from \"./StageDisplayState\";\r\nimport {ColorCorrection} from \"./ColorCorrection\";\r\nimport {StageAlign} from \"./StageAlign\";\r\nimport {DisplayObjectContainer} from \"./DisplayObjectContainer\";\r\n\r\nexport class Stage extends DisplayObjectContainer {\r\n\r\n    public constructor(renderer:WebGLRenderer) {\r\n        super(null, null);\r\n        this._root = this;\r\n        this._worldRenderer = renderer;\r\n        this._rawRenderTarget = renderer.createRenderTarget();\r\n        this.resize(renderer.view.width, renderer.view.height);\r\n    }\r\n\r\n    public align:string = StageAlign.TOP_LEFT;\r\n\r\n    public get allowFullScreen():boolean {\r\n        return this._allowFullScreen;\r\n    }\r\n\r\n    public get allowFullScreenInteractive():boolean {\r\n        return this._allowFullScreenInteractive;\r\n    }\r\n\r\n    public color:number = 0;\r\n    public colorCorrection:string = ColorCorrection.DEFAULT;\r\n\r\n    public get colorCorrectionSupport():string {\r\n        return this._colorCorrectionSupport;\r\n    }\r\n\r\n    public displayState:string = StageDisplayState.NORMAL;\r\n    public focus:InteractiveObject = null;\r\n    public frameRate:number = 60;\r\n\r\n    public get fullScreenHeight():number {\r\n        return screen.height;\r\n    }\r\n\r\n    public fullScreenSourceRect:Rectangle = null;\r\n\r\n    public get fullScreenWidth():number {\r\n        return screen.width;\r\n    }\r\n\r\n    public mouseChildren:boolean = true;\r\n    public quality:string = StageQuality.HIGH;\r\n    public scaleMode:string = StageScaleMode.NO_SCALE;\r\n    public showDefaultContextMenu:boolean = true;\r\n\r\n    public get softKeyboardRect():Rectangle {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public get stageHeight():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public set stageHeight(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public get stageWidth():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public set stageWidth(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public tabChildren:boolean = true;\r\n\r\n    public get x():number {\r\n        return 0;\r\n    }\r\n\r\n    public get y():number {\r\n        return 0;\r\n    }\r\n\r\n    public invalidate():void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public isFocusInaccessible():boolean {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    public get worldRenderer():WebGLRenderer {\r\n        return this._worldRenderer;\r\n    }\r\n\r\n    public resize(width:number, height:number):void {\r\n        this._width = width;\r\n        this._height = height;\r\n        // TODO: Fully implement this\r\n    }\r\n\r\n    public render(renderer:WebGLRenderer):void {\r\n        super.render(renderer);\r\n        // Copy it to the screen target.\r\n        //throw new NotImplementedError();\r\n        renderer.copyRenderTargetContent(this.outputRenderTarget, renderer.inputTarget, true);\r\n    }\r\n\r\n    protected __render(renderer:WebGLRenderer):void {\r\n        this._rawRenderTarget.clear();\r\n    }\r\n\r\n    protected __update():void {\r\n    }\r\n\r\n    private _allowFullScreen:boolean = true;\r\n    private _allowFullScreenInteractive:boolean = true;\r\n    private _colorCorrectionSupport:string = ColorCorrectionSupport.DEFAULT_OFF;\r\n    private _stageHeight:number = 0;\r\n    private _stageWidth:number = 0;\r\n    private _worldRenderer:WebGLRenderer = null;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}