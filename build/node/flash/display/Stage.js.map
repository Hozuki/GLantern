{"version":3,"sources":["flash/display/Stage.ts"],"names":[],"mappings":"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","file":"flash/display/Stage.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/18.\r\n */\r\n\r\nimport {WebGLRenderer} from \"../../webgl/WebGLRenderer\";\r\nimport {ColorCorrectionSupport} from \"./ColorCorrectionSupport\";\r\nimport {Rectangle} from \"../geom/Rectangle\";\r\nimport {StageScaleMode} from \"./StageScaleMode\";\r\nimport {StageQuality} from \"./StageQuality\";\r\nimport {InteractiveObject} from \"./InteractiveObject\";\r\nimport {StageDisplayState} from \"./StageDisplayState\";\r\nimport {ColorCorrection} from \"./ColorCorrection\";\r\nimport {StageAlign} from \"./StageAlign\";\r\nimport {DisplayObjectContainer} from \"./DisplayObjectContainer\";\r\nimport {NotImplementedError} from \"../../flash/errors/NotImplementedError\";\r\n\r\nexport class Stage extends DisplayObjectContainer {\r\n\r\n    constructor(renderer:WebGLRenderer) {\r\n        super(null, null);\r\n        this._root = this;\r\n        this._worldRenderer = renderer;\r\n        this.resize(renderer.view.width, renderer.view.height);\r\n    }\r\n\r\n    align:string = StageAlign.TOP_LEFT;\r\n\r\n    get allowFullScreen():boolean {\r\n        return this._allowFullScreen;\r\n    }\r\n\r\n    get allowFullScreenInteractive():boolean {\r\n        return this._allowFullScreenInteractive;\r\n    }\r\n\r\n    color:number = 0x000000;\r\n    colorCorrection:string = ColorCorrection.DEFAULT;\r\n\r\n    get colorCorrectionSupport():string {\r\n        return this._colorCorrectionSupport;\r\n    }\r\n\r\n    displayState:string = StageDisplayState.NORMAL;\r\n    focus:InteractiveObject = null;\r\n    frameRate:number = 60;\r\n\r\n    get fullScreenHeight():number {\r\n        return screen.height;\r\n    }\r\n\r\n    fullScreenSourceRect:Rectangle = null;\r\n\r\n    get fullScreenWidth():number {\r\n        return screen.width;\r\n    }\r\n\r\n    mouseChildren:boolean = true;\r\n    quality:string = StageQuality.HIGH;\r\n    scaleMode:string = StageScaleMode.NO_SCALE;\r\n    showDefaultContextMenu:boolean = true;\r\n\r\n    get softKeyboardRect():Rectangle {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get stageHeight():number {\r\n        return this.worldRenderer.view.height;\r\n    }\r\n\r\n    set stageHeight(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get stageWidth():number {\r\n        return this.worldRenderer.view.width;\r\n    }\r\n\r\n    set stageWidth(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    tabChildren:boolean = true;\r\n\r\n    get x():number {\r\n        return 0;\r\n    }\r\n\r\n    get y():number {\r\n        return 0;\r\n    }\r\n\r\n    get width():number {\r\n        return this.worldRenderer.view.width;\r\n    }\r\n\r\n    get height():number {\r\n        return this.worldRenderer.view.height;\r\n    }\r\n\r\n    invalidate():void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    isFocusInaccessible():boolean {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get worldRenderer():WebGLRenderer {\r\n        return this._worldRenderer;\r\n    }\r\n\r\n    resize(width:number, height:number):void {\r\n        this._width = width;\r\n        this._height = height;\r\n        // TODO: Fully implement this\r\n    }\r\n\r\n    protected __render(renderer:WebGLRenderer):void {\r\n        renderer.currentRenderTarget.clear();\r\n    }\r\n\r\n    protected __update():void {\r\n    }\r\n\r\n    private _allowFullScreen:boolean = true;\r\n    private _allowFullScreenInteractive:boolean = true;\r\n    private _colorCorrectionSupport:string = ColorCorrectionSupport.DEFAULT_OFF;\r\n    private _worldRenderer:WebGLRenderer = null;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}