{"version":3,"sources":["flash/display/DisplayObjectContainer.ts"],"names":[],"mappings":"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","file":"flash/display/DisplayObjectContainer.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/18.\r\n */\r\n\r\nimport {InteractiveObject} from \"./InteractiveObject\";\r\nimport {Stage} from \"./Stage\";\r\nimport {WebGLRenderer} from \"../../webgl/WebGLRenderer\";\r\nimport {DisplayObject} from \"./DisplayObject\";\r\nimport {Point} from \"../geom/Point\";\r\nimport {ShaderManager} from \"../../webgl/ShaderManager\";\r\nimport {NotImplementedError} from \"../../flash/errors/NotImplementedError\";\r\n\r\nexport abstract class DisplayObjectContainer extends InteractiveObject {\r\n\r\n    constructor(root:Stage, parent:DisplayObjectContainer) {\r\n        super(root, parent);\r\n        this._children = [];\r\n    }\r\n\r\n    mouseChildren:boolean = true;\r\n\r\n    get numChildren():number {\r\n        return this._children.length;\r\n    }\r\n\r\n    tabChildren:boolean = true;\r\n\r\n    addChild(child:DisplayObject):DisplayObject {\r\n        if (this._children.indexOf(child) < 0) {\r\n            this._children.push(child);\r\n        }\r\n        child.childIndex = this._children.length - 1;\r\n        return child;\r\n    }\r\n\r\n    addChildAt(child:DisplayObject, index:number):DisplayObject {\r\n        if (this._children.indexOf(child) < 0) {\r\n            if (index === 0) {\r\n                this._children.unshift(child);\r\n            } else if (index === this._children.length - 1) {\r\n                this._children.push(child);\r\n            } else {\r\n                this._children = this._children.slice(0, index - 1).concat(child).concat(this._children.slice(index, this._children.length - 1));\r\n            }\r\n        }\r\n        child.childIndex = index;\r\n        return child;\r\n    }\r\n\r\n    areInaccessibleObjectsUnderPoint(point:Point):boolean {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    contains(child:DisplayObject):boolean {\r\n        var result = false;\r\n        for (var i = 0; i < this._children.length; ++i) {\r\n            if (this._children[i] === child) {\r\n                return true;\r\n            }\r\n            if (this._children[i] instanceof DisplayObjectContainer) {\r\n                result = (<DisplayObjectContainer>this._children[i]).contains(child);\r\n                if (result) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getChildAt(index:number):DisplayObject {\r\n        if (index < 0 || index > this._children.length - 1) {\r\n            return null;\r\n        } else {\r\n            return this._children[index];\r\n        }\r\n    }\r\n\r\n    getChildByName(name:string):DisplayObject {\r\n        if (this._children.length === 0) {\r\n            return null;\r\n        }\r\n        var result:DisplayObject = null;\r\n        for (var i = 0; i < this._children.length; ++i) {\r\n            if (this._children[i].name === name) {\r\n                return this._children[i];\r\n            }\r\n            if (this._children[i] instanceof DisplayObjectContainer) {\r\n                result = (<DisplayObjectContainer>this._children[i]).getChildByName(name);\r\n                if (result !== null) {\r\n                    return result;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getChildIndex(child:DisplayObject):number {\r\n        return this._children.indexOf(child);\r\n    }\r\n\r\n    getObjectsUnderPoint(point:Point):DisplayObject[] {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    removeChild(child:DisplayObject):DisplayObject {\r\n        var childIndex = this._children.indexOf(child);\r\n        if (childIndex >= 0) {\r\n            return this.removeChildAt(childIndex);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    removeChildAt(index:number):DisplayObject {\r\n        if (index < 0 || index >= this.numChildren) {\r\n            return null;\r\n        }\r\n        var child = this._children[index];\r\n        for (var i = index + 1; i < this._children.length; i++) {\r\n            this._children[i].childIndex++;\r\n        }\r\n        this._children.splice(index, 1);\r\n        return child;\r\n    }\r\n\r\n    setChildIndex(child:DisplayObject, index:number):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    swapChildren(child1:DisplayObject, child2:DisplayObject):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    swapChildrenAt(index1:number, index2:number):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get width():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    set width(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get height():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    set height(v:number) {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    dispatchEvent(event:Event, data?:any):boolean {\r\n        var r = super.dispatchEvent(event, data);\r\n        for (var i = 0; i < this._children.length; i++) {\r\n            this._children[i].dispatchEvent(event, data);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    update():void {\r\n        super.update();\r\n        if (this.enabled) {\r\n            for (var i = 0; i < this._children.length; ++i) {\r\n                this._children[i].update();\r\n            }\r\n        }\r\n    }\r\n\r\n    render(renderer:WebGLRenderer):void {\r\n        if (this.visible && this.alpha > 0) {\r\n            this.__preprocess(renderer);\r\n            this.__render(renderer);\r\n            for (var i = 0; i < this._children.length; ++i) {\r\n                var child = this._children[i];\r\n                child.render(renderer);\r\n            }\r\n            this.__postprocess(renderer);\r\n        } else {\r\n            //this.outputRenderTarget.clear();\r\n        }\r\n    }\r\n\r\n    requestUpdateTransform():void {\r\n        this._isTransformDirty = true;\r\n        if (this._children !== null && this._children.length > 0) {\r\n            for (var i = 0; i < this._children.length; ++i) {\r\n                this._children[i].requestUpdateTransform();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected __selectShader(shaderManager:ShaderManager):void {\r\n        // Do nothing\r\n    }\r\n\r\n    protected _children:DisplayObject[] = null;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}