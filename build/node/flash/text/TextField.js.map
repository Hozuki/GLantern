{"version":3,"sources":["flash/text/TextField.ts"],"names":["TextField","TextField.constructor","TextField.appendText","TextField.background","TextField.backgroundColor","TextField.border","TextField.borderColor","TextField.bottomScrollV","TextField.caretIndex","TextField.defaultTextFormat","TextField.getCharBoundaries","TextField.getCharIndexAtPoint","TextField.getFirstCharInParagraph","TextField.getImageReference","TextField.getLineIndexAtPoint","TextField.getLineIndexOfChar","TextField.getLineLength","TextField.getLineMetrics","TextField.getLineOffset","TextField.getLineText","TextField.getParagraphLength","TextField.getTextFormat","TextField.isFontCompatible","TextField.replaceSelectedText","TextField.replaceText","TextField.setSelection","TextField.setTextFormat","TextField.length","TextField.maxScrollH","TextField.maxScrollV","TextField.numLines","TextField.selectionBeginIndex","TextField.selectionEndIndex","TextField.text","TextField.textColor","TextField.textOutlineColor","TextField.textHeight","TextField.textWidth","TextField.thickness","TextField.dispose","TextField.___update","TextField.___render","TextField.___selectShader","TextField.___createCanvasTarget","TextField.___updateCanvasTextStyle","TextField.___drawTextElements","TextField.___textFormatChanged"],"mappings":"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","file":"flash/text/TextField.js","sourcesContent":["/**\r\n * Created by MIC on 2015/12/23.\r\n */\r\n\r\nimport {InteractiveObject} from \"../display/InteractiveObject\";\r\nimport {WebGLRenderer} from \"../../webgl/WebGLRenderer\";\r\nimport {ShaderManager} from \"../../webgl/ShaderManager\";\r\nimport {Stage} from \"../display/Stage\";\r\nimport {DisplayObjectContainer} from \"../display/DisplayObjectContainer\";\r\nimport {AntiAliasType} from \"./AntiAliasType\";\r\nimport {TextFieldAutoSize} from \"./TextFieldAutoSize\";\r\nimport {TextFormat} from \"./TextFormat\";\r\nimport {GridFitType} from \"./GridFitType\";\r\nimport {NotImplementedError} from \"../../_util/NotImplementedError\";\r\nimport {StyleSheet} from \"./StyleSheet\";\r\nimport {TextInteractionMode} from \"./TextInteractionMode\";\r\nimport {TextFieldType} from \"./TextFieldType\";\r\nimport {Rectangle} from \"../geom/Rectangle\";\r\nimport {DisplayObject} from \"../display/DisplayObject\";\r\nimport {TextLineMetrics} from \"./TextLineMetrics\";\r\nimport {RenderTarget2D} from \"../../webgl/RenderTarget2D\";\r\nimport {ShaderID} from \"../../webgl/ShaderID\";\r\nimport {RenderHelper} from \"../../webgl/RenderHelper\";\r\nimport {_util} from \"../../_util/_util\";\r\n\r\nexport class TextField extends InteractiveObject {\r\n\r\n    constructor(root:Stage, parent:DisplayObjectContainer) {\r\n        super(root, parent);\r\n        if (root !== null) {\r\n            this._canvasTarget = this.__createCanvasTarget(root.worldRenderer);\r\n        }\r\n        this._textFormatChangedHandler = this.__textFormatChanged.bind(this);\r\n        this.defaultTextFormat = new TextFormat();\r\n    }\r\n\r\n    appendText(newText:string):void {\r\n        this.text += newText;\r\n    }\r\n\r\n    alwaysShowSelection:boolean = false;\r\n    antiAliasType:string = AntiAliasType.NORMAL;\r\n    autoSize:string = TextFieldAutoSize.NONE;\r\n\r\n    get background():boolean {\r\n        return this._background;\r\n    }\r\n\r\n    set background(v:boolean) {\r\n        var b = v !== this._background;\r\n        if (b) {\r\n            this._background = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    get backgroundColor():number {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    set backgroundColor(v:number) {\r\n        var b = v !== this._backgroundColor;\r\n        if (b) {\r\n            this._backgroundColor = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    get border():boolean {\r\n        return this._border;\r\n    }\r\n\r\n    set border(v:boolean) {\r\n        var b = v !== this._border;\r\n        if (b) {\r\n            this._border = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    get borderColor():number {\r\n        return this._borderColor;\r\n    }\r\n\r\n    set borderColor(v:number) {\r\n        var b = v !== this._borderColor;\r\n        if (b) {\r\n            this._borderColor = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    get bottomScrollV():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get caretIndex():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    condenseWhite:boolean = false;\r\n\r\n    get defaultTextFormat():TextFormat {\r\n        return this._defaultTextFormat;\r\n    }\r\n\r\n    set defaultTextFormat(v:TextFormat) {\r\n        if (this._defaultTextFormat !== null) {\r\n            this._defaultTextFormat.removeEventListener(TextFormat.TEXT_FORMAT_CHANGE, this._textFormatChangedHandler);\r\n        }\r\n        this._defaultTextFormat = !_util.isUndefinedOrNull(v) ? v : new TextFormat();\r\n        this._defaultTextFormat.addEventListener(TextFormat.TEXT_FORMAT_CHANGE, this._textFormatChangedHandler);\r\n    }\r\n\r\n    displayAsPassword:boolean = false;\r\n    embedFonts:boolean = false;\r\n\r\n    getCharBoundaries():Rectangle {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getCharIndexAtPoint(x:number, y:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getFirstCharInParagraph(charIndex:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getImageReference(id:string):DisplayObject {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineIndexAtPoint(x:number, y:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineIndexOfChar(charIndex:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineLength(lineIndex:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineMetrics(lineIndex:number):TextLineMetrics {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineOffset(lineIndex:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getLineText(lineIndex:number):string {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getParagraphLength(charIndex:number):number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    getTextFormat(beginIndex:number = -1, endIndex:number = -1):TextFormat {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    isFontCompatible(fontName:string, fontStyle:number):boolean {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    replaceSelectedText(value:string):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    replaceText(beginIndex:number, endIndex:number, newText:string):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    setSelection(beginIndex:number, endIndex:number):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    setTextFormat(format:TextFormat, beginIndex:number = -1, endIndex:number = -1):void {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    gridFitType:string = GridFitType.PIXEL;\r\n    htmlText:string = null;\r\n\r\n    get length():number {\r\n        return !_util.isUndefinedOrNull(this.text) ? this.text.length : 0;\r\n    }\r\n\r\n    maxChars:number = 0;\r\n\r\n    get maxScrollH():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get maxScrollV():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    mouseWheelEnabled:boolean = true;\r\n    multiline:boolean = true;\r\n\r\n    get numLines():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    restrict:string = null;\r\n    scrollH:number = 0;\r\n    scrollV:number = 1;\r\n    selectable:boolean = true;\r\n\r\n    get selectionBeginIndex():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    get selectionEndIndex():number {\r\n        throw new NotImplementedError();\r\n    }\r\n\r\n    sharpness:number = 0;\r\n    styleSheet:StyleSheet = null;\r\n\r\n    get text():string {\r\n        return this._text;\r\n    }\r\n\r\n    set text(v:string) {\r\n        var b = this._text !== v;\r\n        if (b) {\r\n            this._text = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    get textColor():number {\r\n        return this.defaultTextFormat.color;\r\n    }\r\n\r\n    set textColor(v:number) {\r\n        var b = this.defaultTextFormat.color !== v;\r\n        this.defaultTextFormat.color = v;\r\n        if (b && !this.customOutlineEnabled) {\r\n            this.textOutlineColor = v;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Non-standard extension.\r\n     * @returns {Number}\r\n     */\r\n    get textOutlineColor():number {\r\n        return this._textOutlineColor;\r\n    }\r\n\r\n    /**\r\n     * Non-standard extension.\r\n     * @param v {Number}\r\n     */\r\n    set textOutlineColor(v:number) {\r\n        var b = this._textOutlineColor !== v;\r\n        if (b) {\r\n            this._textOutlineColor = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * When set to true, outline color will not change when setting {@link textColor}, enabling drawing a\r\n     * colorful outline. The default value is false.\r\n     * Non-standard extension.\r\n     * @type {Boolean}\r\n     */\r\n    customOutlineEnabled:boolean = false;\r\n\r\n    get textHeight():number {\r\n        // TODO: This only works under single line circumstances.\r\n        var height = this.defaultTextFormat.size * 1.5;\r\n        if (this.thickness > 0) {\r\n            height += this.thickness * 2;\r\n        }\r\n        return height;\r\n    }\r\n\r\n    textInteractionMode:string = TextInteractionMode.NORMAL;\r\n\r\n    get textWidth():number {\r\n        // TODO: This only works under single line circumstances.\r\n        var metrics:TextMetrics = this._context2D.measureText(this.text);\r\n        var width = metrics.width;\r\n        if (this.thickness > 0) {\r\n            width += this.thickness * 2;\r\n        }\r\n        return width;\r\n    }\r\n\r\n    get thickness():number {\r\n        return this._thickness;\r\n    }\r\n\r\n    set thickness(v:number) {\r\n        var b = this._thickness !== v;\r\n        if (b) {\r\n            this._thickness = v;\r\n            this._isContentChanged = true;\r\n        }\r\n    }\r\n\r\n    type:string = TextFieldType.DYNAMIC;\r\n    useRichTextClipboard:boolean = false;\r\n    wordWrap:boolean = false;\r\n\r\n    dispose():void {\r\n        super.dispose();\r\n        // TODO: WARNING: HACK!\r\n        var renderer = (<Stage>this.root).worldRenderer;\r\n        renderer.releaseRenderTarget(this._canvasTarget);\r\n        this._canvasTarget = null;\r\n        this._canvas = null;\r\n        this._context2D = null;\r\n    }\r\n\r\n    protected __update():void {\r\n        if (!this._isContentChanged) {\r\n            return;\r\n        }\r\n        //var canvas = this._canvas;\r\n        //var context = this._context2D;\r\n        //context.font = this.__getStyleString();\r\n        //var metrics:TextMetrics = context.measureText(this.text);\r\n        //canvas.height = this.defaultTextFormat.size * 1.15;\r\n        //canvas.width = metrics.width;\r\n\r\n        this._canvasTarget.updateImageSize();\r\n        this.__updateCanvasTextStyle(this._context2D);\r\n        this.__drawTextElements(this._context2D);\r\n        this._isContentChanged = false;\r\n    }\r\n\r\n    protected __render(renderer:WebGLRenderer):void {\r\n        if (this.visible && this.alpha > 0 && this.text !== null && this.text.length > 0) {\r\n            this._canvasTarget.updateImageContent();\r\n            RenderHelper.copyImageContent(renderer, this._canvasTarget, this._rawRenderTarget, false, false, this.transform.matrix3D, this.alpha, true);\r\n        } else {\r\n            this._rawRenderTarget.clear();\r\n        }\r\n    }\r\n\r\n    protected __selectShader(shaderManager:ShaderManager):void {\r\n        shaderManager.selectShader(ShaderID.COPY_IMAGE);\r\n    }\r\n\r\n    protected __createCanvasTarget(renderer:WebGLRenderer):RenderTarget2D {\r\n        if (this._canvas === null) {\r\n            var canvas = window.document.createElement(\"canvas\");\r\n            canvas.width = renderer.view.width;\r\n            canvas.height = renderer.view.height;\r\n            this._canvas = canvas;\r\n            this._context2D = canvas.getContext(\"2d\");\r\n        }\r\n        return renderer.createRenderTarget(this._canvas);\r\n    }\r\n\r\n    protected __updateCanvasTextStyle(context2D:CanvasRenderingContext2D):void {\r\n        var fontStyles:string[] = [];\r\n        if (this.defaultTextFormat.bold) {\r\n            fontStyles.push(\"bold\");\r\n        }\r\n        if (this.defaultTextFormat.italic) {\r\n            fontStyles.push(\"italic\");\r\n        }\r\n        fontStyles.push(this.defaultTextFormat.size.toString() + \"pt\");\r\n        fontStyles.push(\"\\\"\" + this.defaultTextFormat.font + \"\\\"\");\r\n        context2D.font = fontStyles.join(\" \");\r\n    }\r\n\r\n    protected __drawTextElements(context2D:CanvasRenderingContext2D):void {\r\n        var baseX = this.thickness;\r\n        var baseY = this.thickness;\r\n        var borderThickness = 1;\r\n        context2D.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n        if (this.background) {\r\n            context2D.fillStyle = _util.colorToCssSharp(this.backgroundColor);\r\n            context2D.fillRect(0, 0, this.textWidth + borderThickness * 2, this.textHeight + borderThickness * 2);\r\n        }\r\n        context2D.fillStyle = _util.colorToCssSharp(this.textColor);\r\n        context2D.fillText(this.text, baseX + borderThickness, this.textHeight * 0.75 + borderThickness);\r\n        if (this.thickness > 0) {\r\n            context2D.lineWidth = this.thickness;\r\n            context2D.strokeStyle = _util.colorToCssSharp(this.textOutlineColor);\r\n            context2D.strokeText(this.text, baseX + borderThickness, this.textHeight * 0.75 + borderThickness);\r\n        }\r\n        if (this.border) {\r\n            context2D.lineWidth = 1;\r\n            context2D.strokeStyle = _util.colorToCssSharp(this.borderColor);\r\n            context2D.strokeRect(borderThickness, borderThickness, this.textWidth + borderThickness * 2, this.textHeight + borderThickness * 2);\r\n        }\r\n    }\r\n\r\n    private __textFormatChanged():void {\r\n        this._isContentChanged = true;\r\n    }\r\n\r\n    private _textFormatChangedHandler:Function = null;\r\n    protected _defaultTextFormat:TextFormat = null;\r\n    protected _isContentChanged:boolean = true;\r\n    protected _canvasTarget:RenderTarget2D = null;\r\n    protected _canvas:HTMLCanvasElement = null;\r\n    protected _context2D:CanvasRenderingContext2D = null;\r\n    protected _text:string = null;\r\n    protected _background:boolean = false;\r\n    protected _backgroundColor:number = 0xffffff;\r\n    protected _border:boolean = false;\r\n    protected _borderColor:number = 0x000000;\r\n    protected _textColor:number = 0x000000;\r\n    protected _textOutlineColor:number = 0x000000;\r\n    protected _thickness:number = 0;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}