{"version":3,"sources":["flash/filters/GlowFilter.ts"],"names":[],"mappings":"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","file":"flash/filters/GlowFilter.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/30.\r\n */\r\n\r\nimport {BitmapFilter} from \"./BitmapFilter\";\r\nimport {GlowFilter as WebGLGlowFilter} from \"../../webgl/filters/GlowFilter\";\r\nimport {FilterManager} from \"../../webgl/FilterManager\";\r\nimport {BitmapFilterQuality} from \"./BitmapFilterQuality\";\r\nimport {GLUtil} from \"../../GLUtil\";\r\n\r\nexport class GlowFilter extends WebGLGlowFilter implements BitmapFilter {\r\n\r\n    constructor(filterManager:FilterManager, color:number = 0xff0000, alpha:number = 1.0, blurX:number = 6.0, blurY:number = 6.0,\r\n                strength:number = 2, quality:number = BitmapFilterQuality.LOW, inner:boolean = false, knockout:boolean = false) {\r\n        super(filterManager);\r\n        this.color = color;\r\n        this.alpha = GLUtil.limitInto(alpha, 0, 1);\r\n        this.blurX = blurX;\r\n        this.blurY = blurY;\r\n        this.strength = strength;\r\n        this.quality = quality;\r\n        this.inner = inner;\r\n        this.knockout = knockout;\r\n    }\r\n\r\n    get alpha():number {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha(v:number) {\r\n        var b = v !== this.alpha;\r\n        this._alpha = v;\r\n        if (b) {\r\n            this.__updateColorMatrix();\r\n        }\r\n    }\r\n\r\n    get blurX():number {\r\n        return this.strengthX;\r\n    }\r\n\r\n    set blurX(v:number) {\r\n        this.strengthX = v;\r\n    }\r\n\r\n    get blurY():number {\r\n        return this.strengthY;\r\n    }\r\n\r\n    set blurY(v:number) {\r\n        this.strengthY = v;\r\n    }\r\n\r\n    get color():number {\r\n        return this._color;\r\n    }\r\n\r\n    set color(v:number) {\r\n        v |= 0;\r\n        var b = v !== this._color;\r\n        this._color = v;\r\n        if (b) {\r\n            this.__updateColorMatrix();\r\n        }\r\n    }\r\n\r\n    inner:boolean = false;\r\n    knockout:boolean = false;\r\n\r\n    get quality():number {\r\n        return this.pass;\r\n    }\r\n\r\n    set quality(v:number) {\r\n        this.pass = v;\r\n    }\r\n\r\n    strength:number = 2;\r\n\r\n    clone():GlowFilter {\r\n        return new GlowFilter(this.filterManager, this.color, this.alpha, this.blurX, this.blurY,\r\n            this.strength, this.quality, this.inner, this.knockout);\r\n    }\r\n\r\n    private __updateColorMatrix():void {\r\n        var r = ((this._color >>> 16) & 0xff) / 0xff;\r\n        var g = ((this._color >>> 8) & 0xff) / 0xff;\r\n        var b = (this._color & 0xff) / 0xff;\r\n        var a = this._alpha;\r\n        var cm = [\r\n            0, 0, 0, r, 0,\r\n            0, 0, 0, g, 0,\r\n            0, 0, 0, b, 0,\r\n            0, 0, 0, a, 0\r\n        ];\r\n        this.setColorMatrix(cm);\r\n    }\r\n\r\n    private _color:number = 0x000000;\r\n    private _alpha:number = 1;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}