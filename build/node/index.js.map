{"version":3,"sources":["index.ts"],"names":[],"mappings":"AAAA;;GAEG;;AAEH,IAAY,KAAK,WAAM,eAAe,CAAC,CAAA;AAO9B,aAAK;AANd,IAAY,KAAK,WAAM,eAAe,CAAC,CAAA;AAMvB,aAAK;AALrB,IAAY,EAAE,WAAM,YAAY,CAAC,CAAA;AAKV,UAAE;AAJzB,IAAY,EAAE,WAAM,YAAY,CAAC,CAAA;AAIN,UAAE;AAH7B,2BAAyB,cAAc,CAAC,CAAA;AAGT,kBAAU;AAFzC,uBAAqB,UAAU,CAAC,CAAA;AAIhC,wBAA+B,KAAS;IACpC,KAAK,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;IACvB,KAAK,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;IACvB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;IACjB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;AACrB,CAAC;AALe,sBAAc,iBAK7B,CAAA;AAED;IACI,IAAI,YAAY,GAAQ,MAAM,CAAC;IAE/B,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,qDAAqD;IACrD,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,6EAA6E;IAC7E,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,yDAAyD;IACzD,mFAAmF;IACnF,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,gGAAgG;IAChG,EAAE,CAAC,CAAC,OAAO,YAAY,CAAC,QAAQ,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;QAC7C,IAAI,mBAAmB,GAAG,yBAAyB,CAAC;QACpD,IAAI,iBAAiB,GAAG,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC9E,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACtE,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IACD,MAAM,CAAC,IAAI,CAAC;AAChB,CAAC;AA/Be,mBAAW,cA+B1B,CAAA","file":"index.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/20.\r\n */\r\n\r\nimport * as flash from \"./flash/index\";\r\nimport * as webgl from \"./webgl/index\";\r\nimport * as fl from \"./fl/index\";\r\nimport * as mx from \"./mx/index\";\r\nimport {EngineBase} from \"./EngineBase\";\r\nimport {GLUtil} from \"./GLUtil\";\r\n\r\nexport { flash, webgl, fl, mx, EngineBase};\r\n\r\nexport function injectToGlobal($this:any):void {\r\n    $this[\"flash\"] = flash;\r\n    $this[\"webgl\"] = webgl;\r\n    $this[\"fl\"] = fl;\r\n    $this[\"mx\"] = mx;\r\n}\r\n\r\nexport function isSupported():boolean {\r\n    var globalObject = <any>window;\r\n\r\n    if (!globalObject) {\r\n        return false;\r\n    }\r\n    // GLantern is based on <canvas>, so it should exist.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"HTMLCanvasElement\"])) {\r\n        return false;\r\n    }\r\n    // GLantern uses WebGL, so there should be a corresponding rendering context.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"WebGLRenderingContext\"])) {\r\n        return false;\r\n    }\r\n    // GLantern uses Map and Set class, so they should exist.\r\n    // Note: Map and Set are ES6 features, but they are implemented on modern browsers.\r\n    if (!GLUtil.isClassDefinition(globalObject[\"Map\"])) {\r\n        return false;\r\n    }\r\n    if (!GLUtil.isClassDefinition(globalObject[\"Set\"])) {\r\n        return false;\r\n    }\r\n    // No plans for support of Chrome whose version is under 40, due to a WebGL memory leak problem.\r\n    if (typeof globalObject[\"chrome\"] === \"object\") {\r\n        var chromeVersionRegExp = /Chrome\\/(\\d+)(?:\\.\\d+)*/;\r\n        var chromeVersionInfo = chromeVersionRegExp.exec(window.navigator.appVersion);\r\n        if (chromeVersionInfo.length < 2 || parseInt(chromeVersionInfo[1]) < 40) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n"],"sourceRoot":"/source/"}