{"version":3,"sources":["webgl/WebGLUtils.ts"],"names":[],"mappings":"AAAA;;GAEG;;AAEH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA6BG;AAEH,IAAI,EAAE,GAAS,IAAK,CAAC,qBAAqB,IAAU,MAAO,CAAC,qBAAqB,CAAC;AAElF;IAAA;IAuBA,CAAC;IArBU,qBAAU,GAAjB,UAAkB,MAAwB,EAAE,kBAAsB;QAC9D,kBAAkB,GAAU;YACxB,IAAI,QAAQ,GAAU,YAAY,CAAC,GAAG,CAAC,CAAC;YACxC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACxB,IAAI,SAAS,GAAG,MAAM,CAAC,aAAa,CAAC;YACrC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACZ,SAAS,CAAC,SAAS,GAAG,QAAQ,CAAC;YACnC,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACnB,QAAQ,CAAC,mBAAmB,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,IAAI,OAAO,GAAG,eAAe,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;QAC1D,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YAClB,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC5B,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAEL,iBAAC;AAAD,CAvBA,AAuBC,IAAA;AAvBqB,kBAAU,aAuB/B,CAAA;AAED,sBAAsB,OAAc;IAChC,MAAM,CAAC,EAAE;QACL,wEAAwE;QACxE,qBAAqB;QACrB,4DAA4D;QAC5D,gBAAgB,GAAG,OAAO,GAAG,QAAQ;QACrC,QAAQ;QACR,oBAAoB,CAAC;AAC7B,CAAC;AAED,yBAAyB,MAAwB,EAAE,kBAAsB;IACrE,IAAI,KAAK,GAAG,CAAC,OAAO,EAAE,oBAAoB,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;IACtE,IAAI,OAAO,GAAyB,IAAI,CAAC;IACzC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;QACpC,IAAI,CAAC;YACD,OAAO,GAA0B,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;QACrF,CAAE;QAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC;QACD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC;QACV,CAAC;IACL,CAAC;IACD,MAAM,CAAC,OAAO,CAAC;AACnB,CAAC;AAED,IAAI,mBAAmB,GAAU,EAAE;IAC/B,wDAAwD;IACxD,wEAAwE,CAAC;AAE7E,IAAI,aAAa,GAAU,EAAE;IACzB,yDAAyD;IACzD,sFAAsF,CAAC","file":"webgl/WebGLUtils.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/13.\r\n */\r\n\r\n/*\r\n * Copyright 2010, Google Inc.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Google Inc. nor the names of its\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\nvar gl = (<any>this).WebGLRenderingContext || (<any>window).WebGLRenderingContext;\r\n\r\nexport abstract class WebGLUtils {\r\n\r\n    static setupWebGL(canvas:HTMLCanvasElement, optionalAttributes:any):WebGLRenderingContext {\r\n        function showLink(str:string) {\r\n            var failHtml:string = makeFailHtml(str);\r\n            console.error(failHtml);\r\n            var container = canvas.parentElement;\r\n            if (container) {\r\n                container.innerHTML = failHtml;\r\n            }\r\n        }\r\n\r\n        if (gl === undefined) {\r\n            showLink(GET_A_WEBGL_BROWSER);\r\n            return null;\r\n        }\r\n        var context = create3DContext(canvas, optionalAttributes);\r\n        if (context == null) {\r\n            showLink(OTHER_PROBLEM);\r\n        }\r\n        return context;\r\n    }\r\n\r\n}\r\n\r\nfunction makeFailHtml(message:string):string {\r\n    return '' +\r\n        '<table style=\"background-color: #8CE; width: 100%; height: 100%;\"><tr>' +\r\n        '<td align=\"center\">' +\r\n        '<div style=\"display: table-cell; vertical-align: middle;\">' +\r\n        '<div style=\"\">' + message + '</div>' +\r\n        '</div>' +\r\n        '</td></tr></table>';\r\n}\r\n\r\nfunction create3DContext(canvas:HTMLCanvasElement, optionalAttributes:any):WebGLRenderingContext {\r\n    var names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\r\n    var context:WebGLRenderingContext = null;\r\n    for (var i = 0; i < names.length; ++i) {\r\n        try {\r\n            context = <WebGLRenderingContext>canvas.getContext(names[i], optionalAttributes);\r\n        } catch (e) {\r\n        }\r\n        if (context) {\r\n            break;\r\n        }\r\n    }\r\n    return context;\r\n}\r\n\r\nvar GET_A_WEBGL_BROWSER:string = '' +\r\n    'This page requires a browser that supports WebGL.<br/>' +\r\n    '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>';\r\n\r\nvar OTHER_PROBLEM:string = '' +\r\n    \"It doesn't appear your computer can support WebGL.<br/>\" +\r\n    '<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>';"],"sourceRoot":"/source/"}