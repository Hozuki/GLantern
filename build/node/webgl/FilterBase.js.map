{"version":3,"sources":["webgl/filterbase.ts"],"names":["FilterBase","FilterBase.constructor","FilterBase.notifyAdded","FilterBase.notifyRemoved","FilterBase.dispose","FilterBase.initialize","FilterBase.filterManager","FilterBase.flipX","FilterBase.flipY","FilterBase.___initialize","FilterBase.___dispose"],"mappings":"AAAA;;GAEG;AAOH;IAEIA,oBAAYA,OAAqBA;QA+DzBC,mBAAcA,GAAiBA,IAAIA,CAACA;QACpCA,WAAMA,GAAWA,KAAKA,CAACA;QACvBA,WAAMA,GAAWA,KAAKA,CAACA;QACvBA,oBAAeA,GAAUA,CAACA,CAACA;QAjE/BA,IAAIA,CAACA,cAAcA,GAAGA,OAAOA,CAACA;IAClCA,CAACA;IAIDD;;;;OAIGA;IACHA,gCAAWA,GAAXA;QACIE,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,IAAIA,CAACA,CAACA,CAACA,CAACA;YAC5BA,IAAIA,CAACA,YAAYA,EAAEA,CAACA;QACxBA,CAACA;QACDA,IAAIA,CAACA,eAAeA,EAAEA,CAACA;IAC3BA,CAACA;IAEDF;;;OAGGA;IACHA,kCAAaA,GAAbA;QACIG,IAAIA,CAACA,eAAeA,EAAEA,CAACA;QACvBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,IAAIA,CAACA,CAACA,CAACA,CAACA;YAC5BA,IAAIA,CAACA,SAASA,EAAEA,CAACA;QACrBA,CAACA;IACLA,CAACA;IAEDH,4BAAOA,GAAPA;QACII,IAAIA,CAACA,SAASA,EAAEA,CAACA;IACrBA,CAACA;IAEDJ,+BAAUA,GAAVA;QACIK,IAAIA,CAACA,YAAYA,EAAEA,CAACA;IACxBA,CAACA;IAEDL,sBAAIA,qCAAaA;aAAjBA;YACIM,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA;QAC/BA,CAACA;;;OAAAN;IAEDA,sBAAIA,6BAAKA;aAATA;YACIO,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;QACvBA,CAACA;aAEDP,UAAUA,CAASA;YACfO,IAAIA,CAACA,MAAMA,GAAGA,CAACA,CAACA;QACpBA,CAACA;;;OAJAP;IAMDA,sBAAIA,6BAAKA;aAATA;YACIQ,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;QACvBA,CAACA;aAEDR,UAAUA,CAASA;YACfQ,IAAIA,CAACA,MAAMA,GAAGA,CAACA,CAACA;QACpBA,CAACA;;;OAJAR;IAMSA,iCAAYA,GAAtBA;IACAS,CAACA;IAEST,8BAASA,GAAnBA;IACAU,CAACA;IAOLV,iBAACA;AAADA,CAtEA,AAsECA,IAAA;AAtEqB,kBAAU,aAsE/B,CAAA","file":"webgl/FilterBase.js","sourcesContent":["/**\r\n * Created by MIC on 2015/11/18.\r\n */\r\n\r\nimport {FilterManager} from \"./FilterManager\";\r\nimport {RenderTarget2D} from \"./RenderTarget2D\";\r\nimport {WebGLRenderer} from \"./WebGLRenderer\";\r\nimport {IBitmapFilter} from \"./IBitmapFilter\";\r\n\r\nexport abstract class FilterBase implements IBitmapFilter {\r\n\r\n    constructor(manager:FilterManager) {\r\n        this._filterManager = manager;\r\n    }\r\n\r\n    abstract process(renderer:WebGLRenderer, input:RenderTarget2D, output:RenderTarget2D, clearOutput:boolean):void;\r\n\r\n    /**\r\n     * Called when it is added to a {@link DisplayObject.filters} array.\r\n     * Notice that it may be called multiple times, but a filter should only be initialized once\r\n     * if its output buffer is null.\r\n     */\r\n    notifyAdded():void {\r\n        if (this._referenceCount <= 0) {\r\n            this.__initialize();\r\n        }\r\n        this._referenceCount++;\r\n    }\r\n\r\n    /**\r\n     * Called when it is removed from a {@link DisplayObject.filters} array.\r\n     * Notice that it may be called multiple times, but should do nothing if its output is already null.\r\n     */\r\n    notifyRemoved():void {\r\n        this._referenceCount--;\r\n        if (this._referenceCount <= 0) {\r\n            this.__dispose();\r\n        }\r\n    }\r\n\r\n    dispose():void {\r\n        this.__dispose();\r\n    }\r\n\r\n    initialize():void {\r\n        this.__initialize();\r\n    }\r\n\r\n    get filterManager():FilterManager {\r\n        return this._filterManager;\r\n    }\r\n\r\n    get flipX():boolean {\r\n        return this._flipX;\r\n    }\r\n\r\n    set flipX(v:boolean) {\r\n        this._flipX = v;\r\n    }\r\n\r\n    get flipY():boolean {\r\n        return this._flipY;\r\n    }\r\n\r\n    set flipY(v:boolean) {\r\n        this._flipY = v;\r\n    }\r\n\r\n    protected __initialize():void {\r\n    }\r\n\r\n    protected __dispose():void {\r\n    }\r\n\r\n    private _filterManager:FilterManager = null;\r\n    private _flipY:boolean = false;\r\n    private _flipX:boolean = false;\r\n    private _referenceCount:number = 0;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}