{"version":3,"sources":["webgl/shaders/Blur2Shader.ts"],"names":[],"mappings":"AAAA;;GAEG;;;;;;;AAEH,6BAA2B,iBAAiB,CAAC,CAAA;AAG7C,8BAA4B,kBAAkB,CAAC,CAAA;AAC/C,gCAA8B,oBAAoB,CAAC,CAAA;AACnD,+BAA6B,kBAAkB,CAAC,CAAA;AAChD,8BAA4B,kBAAkB,CAAC,CAAA;AAE/C;IAAiC,+BAAc;IAE3C,qBAAY,OAAqB;QAC7B,kBAAM,OAAO,EAAE,WAAW,CAAC,aAAa,EAAE,WAAW,CAAC,eAAe,CAAC,CAAC;IAC3E,CAAC;IAED,iCAAW,GAAX,UAAY,QAAe;QACvB,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;YACf,QAAQ,GAAG,CAAC,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,GAAG,QAAQ,CAAC;IACrD,CAAC;IAED,iCAAW,GAAX;QACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;IACjD,CAAC;IAED,mCAAa,GAAb,UAAc,UAAiB;QAC3B,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;YACjB,UAAU,GAAG,CAAC,CAAC;QACnB,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC;IACzD,CAAC;IAED,sCAAgB,GAAhB,UAAiB,SAAkB;QAC/B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9E,CAAC;IAMS,iCAAW,GAArB,UAAsB,OAAqB,EAAE,QAAkC,EAAE,UAAsC;QACnH,gBAAK,CAAC,WAAW,YAAC,OAAO,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAEjD,IAAI,CAAc,CAAC;QAEnB,CAAC,GAAG,IAAI,2BAAY,EAAE,CAAC;QACvB,CAAC,CAAC,IAAI,GAAG,WAAW,CAAC;QACrB,CAAC,CAAC,IAAI,GAAG,6BAAa,CAAC,GAAG,CAAC;QAC3B,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;QACZ,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAExB,CAAC,GAAG,IAAI,2BAAY,EAAE,CAAC;QACvB,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;QACvB,CAAC,CAAC,IAAI,GAAG,6BAAa,CAAC,GAAG,CAAC;QAC3B,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;QACZ,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAExB,CAAC,GAAG,IAAI,2BAAY,EAAE,CAAC;QACvB,CAAC,CAAC,IAAI,GAAG,gBAAgB,CAAC;QAC1B,CAAC,CAAC,IAAI,GAAG,6BAAa,CAAC,GAAG,CAAC;QAC3B,CAAC,CAAC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACrB,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAC;IA1BM,6BAAiB,GAAU,aAAa,CAAC;IACzC,2BAAe,GAAU,iCAAe,CAAC,KAAK,CAAC;IAC/C,yBAAa,GAAU,6BAAa,CAAC,KAAK,CAAC;IA0BtD,kBAAC;AAAD,CAxDA,AAwDC,CAxDgC,+BAAc,GAwD9C;AAxDY,mBAAW,cAwDvB,CAAA","file":"webgl/shaders/Blur2Shader.js","sourcesContent":["/**\r\n * Created by MIC on 2015/12/22.\r\n */\r\n\r\nimport {UniformCache} from \"../UniformCache\";\r\nimport {AttributeCache} from \"../AttributeCache\";\r\nimport {ShaderManager} from \"../ShaderManager\";\r\nimport {VertexShaders} from \"../VertexShaders\";\r\nimport {FragmentShaders} from \"../FragmentShaders\";\r\nimport {BufferedShader} from \"./BufferedShader\";\r\nimport {WebGLDataType} from \"../WebGLDataType\";\r\n\r\nexport class Blur2Shader extends BufferedShader {\r\n\r\n    constructor(manager:ShaderManager) {\r\n        super(manager, Blur2Shader.VERTEX_SOURCE, Blur2Shader.FRAGMENT_SOURCE);\r\n    }\r\n\r\n    setStrength(strength:number):void {\r\n        if (strength < 0) {\r\n            strength = 1;\r\n        }\r\n        this._uniforms.get(\"uStrength\").value = strength;\r\n    }\r\n\r\n    getStrength():number {\r\n        return this._uniforms.get(\"uStrength\").value;\r\n    }\r\n\r\n    setResolution(resolution:number):void {\r\n        if (resolution < 0) {\r\n            resolution = 1;\r\n        }\r\n        this._uniforms.get(\"uResolution\").value = resolution;\r\n    }\r\n\r\n    setBlurDirection(direction:number[]):void {\r\n        this._uniforms.get(\"uBlurDirection\").value = [direction[0], direction[1]];\r\n    }\r\n\r\n    static SHADER_CLASS_NAME:string = \"Blur2Shader\";\r\n    static FRAGMENT_SOURCE:string = FragmentShaders.blur2;\r\n    static VERTEX_SOURCE:string = VertexShaders.blur2;\r\n\r\n    protected __localInit(manager:ShaderManager, uniforms:Map<string, UniformCache>, attributes:Map<string, AttributeCache>):void {\r\n        super.__localInit(manager, uniforms, attributes);\r\n\r\n        var u:UniformCache;\r\n\r\n        u = new UniformCache();\r\n        u.name = \"uStrength\";\r\n        u.type = WebGLDataType.U1F;\r\n        u.value = 5;\r\n        uniforms.set(u.name, u);\r\n\r\n        u = new UniformCache();\r\n        u.name = \"uResolution\";\r\n        u.type = WebGLDataType.U1F;\r\n        u.value = 1;\r\n        uniforms.set(u.name, u);\r\n\r\n        u = new UniformCache();\r\n        u.name = \"uBlurDirection\";\r\n        u.type = WebGLDataType.U2F;\r\n        u.value = [1.0, 0.0];\r\n        uniforms.set(u.name, u);\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}